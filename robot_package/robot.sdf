<?xml version="1.0"?>
<sdf version="1.5">
	<model name="robot">
	<gravity>true</gravity>
		<include>
			<uri>model://agro/models/robot_body</uri>
		</include>

		<include>
			<uri>model://agro/models/mecanum_wheel_right</uri>
			<name>mecanum_wheel_1</name>
			<pose>0.2279 0.0795 0.4075 0 0 1.5708</pose>
		</include>

		<include>
			<uri>model://agro/models/mecanum_wheel_left</uri>
			<name>mecanum_wheel_2</name>
			<pose>0.2279 -0.5615 0.4075 0 0 1.5708</pose>
		</include>

		<include>
			<uri>model://agro/models/mecanum_wheel_right</uri>
			<name>mecanum_wheel_3</name>
			<pose>-0.6839 -0.5615 0.4075 0 0 -1.5708</pose>
		</include>

		<include>
			<uri>model://agro/models/mecanum_wheel_left</uri>
			<name>mecanum_wheel_4</name>
			<pose>-0.6839 0.0795 0.4075 0 0 -1.5708</pose>
		</include>

		<include>
			<uri>model://agro/models/rail_wheel</uri>
			<name>rail_wheel_1</name>
			<pose>-0.01 0.08 0.3835 0 0 0</pose>
		</include>

		<include>
			<uri>model://agro/models/rail_wheel</uri>
			<name>rail_wheel_2</name>
			<pose>-0.01 -0.561 0.3835 0 0 0</pose>
		</include>

		<include>
			<uri>model://agro/models/rail_wheel</uri>
			<name>rail_wheel_3</name>
			<pose>-0.447 -0.561 0.3835 0 0 3.1415</pose>
		</include>

		<include>
			<uri>model://agro/models/rail_wheel</uri>
			<name>rail_wheel_4</name>
			<pose>-0.447 0.08 0.3835 0 0 3.1415</pose>
		</include>

		<include>
			<uri>model://agro/models/camera</uri>
			<pose>-0.23 0 0.87 0 0 1.5708</pose>
		</include>

		<joint type="revolute" name="body-wheel_1">

			<pose>0 0 -0.024 0 0 0</pose>

			<parent> body::base </parent>
			<child> mecanum_wheel_1::base</child>

			<axis>
				<xyz>0 1 0</xyz>

				<limit>
					<lower>-1.79769e+308</lower>
					<upper>1.79769e+308</upper>
				</limit>
			</axis>
		</joint>

		<joint type="revolute" name="body-wheel_2">

			<pose>0 0 -0.024 0 0 0</pose>

			<parent> body::base </parent>
			<child> mecanum_wheel_2::base </child>

			<axis>
				<xyz>0 1 0</xyz> 
 
				<limit>
					<lower>-1.79769e+308</lower>
					<upper>1.79769e+308</upper>
				</limit>
			</axis>
		</joint>

		<joint type="revolute" name="body-wheel_3">

			<pose>0 0 -0.024 0 0 3.1415</pose>

			<parent> body::base </parent>
			<child> mecanum_wheel_3::base </child>

			<axis>
				<xyz>0 1 0</xyz>

				<limit>
					<lower>-1.79769e+308</lower>
					<upper>1.79769e+308</upper>
				</limit>
			</axis>
		</joint>

		<joint type="revolute" name="body-wheel_4">

			<pose>0 0 -0.024 0 0 3.1415</pose>

			<parent> body::base </parent>
			<child> mecanum_wheel_4::base </child>

			<axis>
				<xyz>0 1 0</xyz>

				<limit>
					<lower>-1.79769e+308</lower>
					<upper>1.79769e+308</upper>
				</limit>
			</axis>
		</joint>

		<joint type="revolute" name="body-wheel_5">

			<pose>0 0 0 0 0 0</pose>

			<parent> body::base </parent>
			<child> rail_wheel_1::base </child>

			<axis>
				<xyz>-1 0 0</xyz>

				<limit>
					<lower>-1.79769e+308</lower>
					<upper>1.79769e+308</upper>
				</limit>
			</axis>
		</joint>

		<joint type="revolute" name="body-wheel_6">

			<pose>0 0 0 0 0 0</pose>

			<parent> body::base </parent>
			<child> rail_wheel_2::base </child>

			<axis>
				<xyz>-1 0 0</xyz>

				<limit>
					<lower>-1.79769e+308</lower>
					<upper>1.79769e+308</upper>
				</limit>
			</axis>
		</joint>

		<joint type="revolute" name="body-wheel_7">

			<pose>0 0 0 0 0 0</pose>

			<parent> body::base </parent>
			<child> rail_wheel_3::base </child>

			<axis>
				<xyz>-1 0 0</xyz>

				<limit>
					<lower>-1.79769e+308</lower>
					<upper>1.79769e+308</upper>
				</limit>
			</axis>
		</joint>

		<joint type="revolute" name="body-wheel_8">

			<pose>0 0 0 0 0 0</pose>

			<parent> body::base </parent>
			<child> rail_wheel_4::base </child>

			<axis>
				<xyz>-1 0 0</xyz>

				<limit>
					<lower>-1.79769e+308</lower>
					<upper>1.79769e+308</upper>
				</limit>
			</axis>
		</joint>

		<joint type="fixed" name="body-camera">
			<pose> 0 0 0 0 0 0 </pose>

			<parent> body::base </parent>
			<child> camera::base </child>
		</joint>

		
		
		<sensor name="imu_sensor" type="imu">
			<always_on>true</always_on>
			<update_rate>100</update_rate>
			<visualize>true</visualize>
			<topic>__default_topic__</topic>
			<plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
				<topicName>imu</topicName>
				<bodyName>imu_link</bodyName>
				<updateRateHZ>10.0</updateRateHZ>
				<gaussianNoise>0.0</gaussianNoise>
				<xyzOffset>0 0 0</xyzOffset>
				<rpyOffset>0 0 0</rpyOffset>
				<frameName>imu_link</frameName>
				<initialOrientationAsReference>false</initialOrientationAsReference>
			</plugin>
			<pose>0 0 0 0 0 0</pose>
   		</sensor>


		
		<plugin name="robot_control_plugin" filename="./librobot_control_plugin.so">
		<commandTopic>cmd_vel</commandTopic>
      	<odometryTopic>odom</odometryTopic>
      	<odometryFrame>odom</odometryFrame>
      	<odometryRate>20.0</odometryRate>
		</plugin>
	</model>
</sdf>